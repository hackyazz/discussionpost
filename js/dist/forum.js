(()=>{"use strict";const s=flarum.core.compat["forum/app"],o=flarum.core.compat["common/extend"],t=flarum.core.compat["forum/components/DiscussionListItem"];flarum.core.compat["common/Component"],s.initializers.add("yazz-discussionpost",(function(){console.log("[yazz/discussionpost] Hello, forum11111!"),(0,o.extend)(t.prototype,"mainItems",(function(s){var o=this.attrs.discussion;if(o){var t=o.firstPost();if(t){var e,a,c,i=(e=t.contentHtml(),a=(new DOMParser).parseFromString(e,"text/html").querySelectorAll("img"),c=[],a.forEach((function(s){s.src&&c.push(s.src)})),c);console.log("imgScList",i,typeof i),0!=i.length&&(s.add("postimage",m("p",{className:"PostImage"},i.map((function(s){return m("img",{className:"FoFUpload--Upl-Image-Preview",src:s,loading:"lazy"})})))),s.add("postimgsrc",m("p",{className:"PostImage"},i)))}else s.add("postimage",m("p",{className:"PostImage"},"firstpost为空"))}else s.add("postimage",m("p",{className:"PostImage"},"discussion属性不存在"))}))}),-10)})(),module.exports={};
//# sourceMappingURL=forum.js.map