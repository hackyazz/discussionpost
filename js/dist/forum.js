(()=>{"use strict";const o=flarum.core.compat["forum/app"],s=flarum.core.compat["common/extend"],t=flarum.core.compat["forum/components/DiscussionListItem"];flarum.core.compat["common/Component"],o.initializers.add("yazz-discussionpost",(function(){console.log("[yazz/discussionpost] Hello, forum11111!"),(0,s.extend)(t.prototype,"mainItems",(function(o){var s=this.attrs.discussion;if(s){var t=s.firstPost();if(t){var e,a,i,c=(e=t.contentHtml(),a=(new DOMParser).parseFromString(e,"text/html").querySelectorAll("img"),i=[],a.forEach((function(o){o.src&&i.push(o.src)})),i);0!=c.length&&o.add("postimage",m("p",{className:"PostImage"},c.map((function(o){m("img",{src:o,loading:"lazy"})}))))}else o.add("postimage",m("p",{className:"PostImage"},"firstpost为空"))}else o.add("postimage",m("p",{className:"PostImage"},"discussion属性不存在"))}))}),-10)})(),module.exports={};
//# sourceMappingURL=forum.js.map