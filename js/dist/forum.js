(()=>{"use strict";const s=flarum.core.compat["forum/app"],o=flarum.core.compat["common/extend"],t=flarum.core.compat["forum/components/DiscussionListItem"];flarum.core.compat["common/Component"],s.initializers.add("yazz-discussionpost",(function(){console.log("[yazz/discussionpost] Hello, forum11111!"),(0,o.extend)(t.prototype,"mainItems",(function(s){var o=this.attrs.discussion;if(o){var t=o.firstPost();if(t){var e,a,i,c=(e=t.contentHtml(),a=(new DOMParser).parseFromString(e,"text/html").querySelectorAll("img"),i=[],a.forEach((function(s){s.src&&i.push(s.src)})),i);0!=c.length&&s.add("postimage",m("p",{className:"PostImage"},c.map((function(s){if(s.includes("assets/files/"))return m("img",{className:"width: 200px;",src:s,loading:"lazy"})}))))}else s.add("postimage",m("p",{className:"PostImage"},"firstpost为空"))}else s.add("postimage",m("p",{className:"PostImage"},"discussion属性不存在"))}))}),-10)})(),module.exports={};
//# sourceMappingURL=forum.js.map