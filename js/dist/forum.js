(()=>{"use strict";const s=flarum.core.compat["forum/app"],o=flarum.core.compat["common/extend"],e=flarum.core.compat["forum/components/DiscussionListItem"];flarum.core.compat["common/Component"],s.initializers.add("yazz-discussionpost",(function(){console.log("[yazz/discussionpost] Hello, forum11111!"),(0,o.extend)(e.prototype,"mainItems",(function(s){var o=this.attrs.discussion;if(o){var e=o.firstPost();if(e){var t,a,i,r=(t=e.contentHtml(),a=(new DOMParser).parseFromString(t,"text/html").querySelectorAll("img"),i=[],a.forEach((function(s){s.src&&i.push(s.src)})),i);0!=r.length&&s.add("postimage",m("p",{className:"PostImageWraper"},r.slice(0,5).map((function(s){if(s.includes("assets/files/"))return m("img",{className:"PostImage",src:s,loading:"lazy"})}))))}else s.add("postimage",m("p",{className:"PostImage"},"firstpost为空"))}else s.add("postimage",m("p",{className:"PostImage"},"discussion属性不存在"))}))}),-10)})(),module.exports={};
//# sourceMappingURL=forum.js.map